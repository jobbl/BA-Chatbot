version: "3.1"

intents:
  - greet #
  - goodbye #
  - affirm #
  - deny #
  - name_answer #
  - negate #
  - understand_answer #
  - repeat
  - help
 

entities:
  - name
  - emotion
  - specified_emotion
  - reason
  - specific_reason
  - response

forms:
  day_form:
    required_slots:
      - journal_day

slots:
  name:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: name
  emotion:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: emotion
  specified_emotion:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: specified_emotion
  reason:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: reason
  specific_reason:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: specific_reason
      slots:
  journal_day:
    type: text
    influence_conversation: true
    mappings:
      - type: from_text
        conditions:
         - active_loop: day_form
           requested_slot: journal_day
  response:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: response
      
actions: 
  - action_emotion
  - action_activity
  - action_saving_text
  - action_repeat
  - action_quiz_response1
  - action_quiz_response2
  - action_quiz_response3
  - action_quiz_response4
  - action_quiz_response5
  - action_quiz_response6
  - action_utter_reaction_day

responses:

  utter_tutorial:
  - text: "Here are some tips for our conversation: \n
  1) Say \"hello\" to start from the beginning again. \n
  2) Say \"repeat\" and i will repeat my last sentences. \n
  3) Say \"activity selection\" and i will bring you back to the activity selection. \n
  4) Say \"bye\" to end the session. \n
  5) Say \"help\" to see these tips again. \n" 

  utter_tell_me_about_your_day:
  - text: "First, I would like you to tell me about your day. What have you done or not done today? How did you feel?"

  utter_greet:
  - text: "Hey, it's good to meet you!"

  utter_ask_name:
  - text: "What's your name?"

  utter_name_reaction:
  - text: "That's a beautiful name, I like it!"

  utter_iamabot:
  - text: "My name is Moody, I'm a therapeutical chatbot. I like talking to you but keep in mind that 
  I do not replace the help and advice of a real human therapist!"

  utter_understand:
  - text: "Do you understand that, {name}?"

  utter_submit:
  - text: Thanks!


# MOOD JOURNAL SPECIFIC UTTERS 
  utter_goodbye:
  - text: "Bye"

  utter_please_rephrase:
  - text: "I'm sorry, I didn't quite understand that. Could you say it again, please?"
    
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

